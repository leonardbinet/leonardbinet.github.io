Search.setIndex({envversion:48,filenames:["api_etl","api_etl.extract_api","api_etl.extract_schedule","api_etl.match_ids","api_etl.query_schedule","api_etl.settings","api_etl.utils_api_client","api_etl.utils_dynamo","api_etl.utils_misc","api_etl.utils_mongo","api_etl.utils_rdb","api_etl.utils_secrets","index","modules"],objects:{"":{api_etl:[0,0,0,"-"]},"api_etl.extract_api":{extract_save_stations:[1,1,1,""],extract_stations:[1,1,1,""],operate_multiple_cycles:[1,1,1,""],operate_one_cycle:[1,1,1,""],save_stations:[1,1,1,""],xml_to_json_item_list:[1,1,1,""]},"api_etl.extract_schedule":{build_stop_times_ext_df:[2,1,1,""],build_trips_ext_df:[2,1,1,""],download_gtfs_files:[2,1,1,""],dynamo_save_stop_times_of_day:[2,1,1,""],dynamo_save_stop_times_of_day_adapt_provision:[2,1,1,""],get_departure_times_of_day_json_list:[2,1,1,""],get_services_of_day:[2,1,1,""],get_trips_of_day:[2,1,1,""],save_all_schedule_tables_rdb:[2,1,1,""],save_stop_times_extended_rdb:[2,1,1,""],save_trips_extended_rdb:[2,1,1,""]},"api_etl.match_ids":{add_schedule_and_delay:[3,1,1,""],add_trip_id:[3,1,1,""],api_train_num_to_trip_id:[3,1,1,""],build_mongo_update_object:[3,1,1,""],update_real_departures_mongo:[3,1,1,""]},"api_etl.query_schedule":{dynamo_extend_items_with_schedule:[4,1,1,""],trip_scheduled_departure_time:[4,1,1,""]},"api_etl.utils_api_client":{ApiClient:[6,2,1,""]},"api_etl.utils_api_client.ApiClient":{request_station:[6,3,1,""],request_stations:[6,3,1,""]},"api_etl.utils_dynamo":{dynamo_create_real_departures_table:[7,1,1,""],dynamo_extract_whole_table:[7,1,1,""],dynamo_get_client:[7,1,1,""],dynamo_get_table:[7,1,1,""],dynamo_get_table_provisionned_capacity:[7,1,1,""],dynamo_insert_batches:[7,1,1,""],dynamo_submit_batch_getitem_request:[7,1,1,""],dynamo_update_provisionned_capacity:[7,1,1,""]},"api_etl.utils_misc":{api_date_to_day_time_corrected:[8,1,1,""],chunks:[8,1,1,""],compute_delay:[8,1,1,""],get_paris_local_datetime_now:[8,1,1,""],get_responding_stations_from_sample:[8,1,1,""],get_station_ids:[8,1,1,""],set_logging_conf:[8,1,1,""]},"api_etl.utils_mongo":{build_mongo_uri:[9,1,1,""],get_async_mongoclient:[9,1,1,""],get_mongoclient:[9,1,1,""],mongo_async_save_chunks:[9,1,1,""],mongo_async_update_items:[9,1,1,""],mongo_async_upsert_items:[9,1,1,""],mongo_get_async_collection:[9,1,1,""],mongo_get_collection:[9,1,1,""],mongo_move_day_data_to_other_col:[9,1,1,""]},"api_etl.utils_rdb":{build_uri:[10,1,1,""],rdb_connection:[10,1,1,""]},"api_etl.utils_secrets":{get_secret:[11,1,1,""]},api_etl:{extract_api:[1,0,0,"-"],extract_schedule:[2,0,0,"-"],match_ids:[3,0,0,"-"],query_schedule:[4,0,0,"-"],settings:[5,0,0,"-"],utils_api_client:[6,0,0,"-"],utils_dynamo:[7,0,0,"-"],utils_misc:[8,0,0,"-"],utils_mongo:[9,0,0,"-"],utils_rdb:[10,0,0,"-"],utils_secrets:[11,0,0,"-"]}},objnames:{"0":["py","module","Python module"],"1":["py","function","Python function"],"2":["py","class","Python class"],"3":["py","method","Python method"]},objtypes:{"0":"py:module","1":"py:function","2":"py:class","3":"py:method"},terms:{"24h":8,"boolean":[1,2,4],"class":[1,6],"default":[1,2,4],"final":2,"function":[1,2,4,7,8,11],"import":8,"int":[1,2,6,7,8],"new":1,"return":[1,2,3,4,6,7,8],"true":[1,2,4],"try":2,abl:2,about:12,add:[1,2,3],add_schedule_and_delai:3,add_trip_id:3,advanc:8,after:8,again:12,agenc:4,all:[1,2,3,4,5,8,12],alreadi:7,also:12,ani:12,anoth:12,answer:[1,6,12],api:[1,3,4,6,8],api_d:8,api_date_to_day_time_correct:8,api_password:11,api_respons:6,api_train_num_to_trip_id:3,api_us:11,apicli:6,applic:12,area:12,around:12,arriv:[4,12],ask:1,asynchron:[6,12],asyncio:[6,12],autom:12,avoid:8,aws_access_key_id:11,aws_default_region:11,aws_secret_access_kei:11,base:[2,6],basic:12,batch:6,been:2,begin:1,between:[1,8],bewar:8,broader:12,build:[2,3,12],build_mongo_update_object:3,build_mongo_uri:9,build_stop_times_ext_df:2,build_trips_ext_df:2,build_uri:10,built:12,calendar:2,call:12,can:[1,6,8,12],cannot:1,choos:8,chunk:8,chunks_list:9,clean:[1,2],client:[6,7],col_real_dep_uniqu:3,collect:[3,4,9],column:2,com:[1,6],comput:3,compute_delai:8,configur:8,contain:[1,2,4,8,11],convert:8,core:1,core_url:6,correct:8,could:12,creat:[3,7],credenti:7,credit:8,cron:1,csv:[2,12],custom:8,cycl:1,cycle_time_sec:1,dai:[2,3,8,12],data:[1,2,3,4,12],databas:[1,2,4,7,9,10,12],datafram:[1,2,4,7],dataset:1,date:[2,8],day_field:9,day_stat:7,day_train_num:[2,4],defin:[1,2,3],del_origin:9,delai:[3,8],depart:12,departur:3,deploi:12,deprec:[1,2,4],detail:[4,12],df_format:[1,2,4],dict:3,dictionari:3,dictionnari:1,differ:[2,3,6],digit:[1,6,8],divid:8,document:12,down:8,download:[2,12],download_gtfs_fil:2,drop:2,drop_dup:2,dropna_index:2,dryrun:[2,3],duplic:2,dure:1,dynamo:[1,2,4,7,9,10,12],dynamo_create_real_departures_t:7,dynamo_extend_items_with_schedul:4,dynamo_extract_whole_t:7,dynamo_get_cli:7,dynamo_get_t:7,dynamo_get_table_provisionned_capac:7,dynamo_insert_batch:7,dynamo_save_stop_times_of_dai:2,dynamo_save_stop_times_of_day_adapt_provis:2,dynamo_submit_batch_getitem_request:7,dynamo_uniqu:1,dynamo_update_provisionned_capac:7,dynamodb:12,each:[1,12],easili:[1,12],either:[3,6,8],element:3,enrich:12,env:11,environ:11,error:2,etc:4,etl:12,everi:[1,12],exce:[1,12],exist:2,expect:1,expected_passage_dai:[7,8],expected_passage_tim:8,explor:1,extend:[2,4],extra_param:6,extract:[1,4,7,11,12],extract_api:0,extract_save_st:1,extract_schedul:[0,1],extract_st:1,facilit:2,fals:[1,2,3,4,6,9,11],faster:12,field:[1,2,4,8],file:[2,3,6,8,11],filter:1,find:[1,2,3,4,12],first:[1,2,3],folder:2,follow:1,format:[1,2,3,4,6,8],found:[2,4],from:[1,2,4,8,11],full:4,futur:1,gare:1,get:[2,7,8,12],get_async_mongocli:9,get_departure_times_of_day_json_list:2,get_mongocli:9,get_paris_local_datetime_now:8,get_responding_stations_from_sampl:8,get_secret:11,get_services_of_dai:2,get_station_id:[1,8],get_trips_of_dai:2,give:3,given:[2,3,4,7,8],goal:4,gtf:[1,2,3,6,8],half:1,hash:7,hash_kei:7,have:2,header:2,hello:12,here:2,host:[9,10],hour:8,how:12,http:[1,6,12],identif:3,identifi:6,ignor:2,ignore_fail:2,index:[2,4,12],index_field:9,info:8,inform:[1,4,12],initi:4,input:4,insert:1,instanc:12,instead:1,integ:1,interact:[7,9,10],investig:2,item:[1,2,3,4,12],item_list:9,item_query_update_list:9,items_kei:7,items_list:[1,4,7],iter:3,job:1,json:[1,2,4,12],just:2,kei:[2,7],last:2,launch:12,length:1,less:[2,12],level:8,librari:6,limit:[3,7,12],line:[2,4],link:[2,12],list:[1,2,4,6,8],load:12,local:8,log:8,log_nam:8,lower:2,made:[1,12],main:[4,12],match:[3,4],match_id:0,max:1,max_delai:9,max_req:7,max_retri:7,maximum:7,method:6,midnight:8,might:[1,2,8],min:1,minut:[1,2,12],mongo:[1,3,4],mongo_al:1,mongo_async_save_chunk:9,mongo_async_update_item:9,mongo_async_upsert_item:9,mongo_db_nam:11,mongo_get_async_collect:9,mongo_get_collect:9,mongo_host:11,mongo_move_day_data_to_other_col:9,mongo_password:11,mongo_uniqu:1,mongo_us:11,more:[3,4,8,12],much:12,must:[1,4],my_secret:11,name:[2,7],nan:2,nearli:8,necessari:[1,8],neg:8,network:2,new_col:9,none:[2,3,6,7,8,9],note:1,number:[1,7,8],object:[1,2,3,4,6,7,12],obtain:2,old_col:9,one_st:3,onli:[1,8],oper:[1,2,8,12],operate_multiple_cycl:1,operate_one_cycl:1,option:12,other:[1,4,8],otherwis:2,our:12,out:[2,12],output:1,over:3,page:12,panda:[1,2,4,7],paramat:[1,2],paramet:[1,2,3,4,6,7,8],pari:[8,12],part:12,pass:[2,12],passag:1,password:[6,9,10],per:1,perform:1,plu:12,port:[9,10],posit:8,postgr:[4,10,12],postgres_db_nam:11,postgres_host:11,postgres_password:11,postgres_us:11,predict:[4,12],present:2,prev_resp:7,previou:8,previous:1,primari:[1,2,4],problem:[2,12],process:[2,6],product:2,project:[5,12],provid:[1,3,4,6,12],provis:[2,7],purpos:[2,8],queri:[1,3,4,6,8,12],query_schedul:[0,1],rais:2,rang:7,range_kei:7,rdb_connect:10,read:7,readi:1,real:[3,4],real_departur:[3,8,12],real_departure_tim:8,real_tim:8,receiv:12,referentiel:1,regroup:5,relat:[2,12],relev:[1,4],reli:6,remov:2,repositori:12,request:[1,3,6,7,12],request_st:6,requir:[1,2],respond:8,ressourc:1,restrict:2,retry_timeout:6,right:2,rout:4,row:2,run:1,salt:12,same:[3,8],sampl:8,sample_loc:8,save:[1,2,12],save_all_schedule_tables_rdb:2,save_st:1,save_stop_times_extended_rdb:2,save_trips_extended_rdb:2,schedul:[1,2,3,4,8],scheduled_departur:[2,4,12],scheduled_departure_tim:[3,4,8],search:12,second:[1,2,8,12],secret:11,send:[4,12],serializ:[1,2,4,12],servic:2,set:[0,1,2,3,4],set_logging_conf:8,should:[2,12],sinc:2,singl:[6,12],size:8,slower:12,sncf:[1,2],some:[8,12],specif:3,specifi:[1,2],spend:8,station:[1,2,4,6,8,12],station_filt:[1,2],station_id:[2,4,6],station_list:6,stations_list:1,step:[1,2,3,4],stop:[2,4],stop_filt:2,stop_id:2,stop_tim:2,stop_time_sec:1,stop_times_ext:2,stops_id:2,str:[1,6,7,8],string:[1,2,8],structur:[1,2],successfulli:3,tabl:[1,2,4,7],table_nam:7,take:[1,3,4,12],test:8,than:[2,6,8,12],thank:12,thei:[1,4],them:4,thi:[1,2,4,6,7,8,11,12],those:12,thread:[3,12],through:12,throughput:[2,7],time:[1,2,3,4,8],time_or_dai:8,todo:8,tool:12,train:[1,2,4,12],train_num:[2,3,4],transform:[1,8,12],transilien:[1,2,3,4,6],trip:[2,12],trip_id:[2,3,4,12],trip_scheduled_departure_tim:4,trips_ext:2,tupl:6,two:[1,2,8,12],type:[1,2,4,6,7],uniqu:1,unnecessari:8,until:1,unzip:2,updat:[1,2,3,4,7],update_real_departures_mongo:3,url:2,usabl:8,user:[6,9,10],usual:2,utils_api_cli:[0,1],utils_dynamo:[0,1],utils_misc:0,utils_mongo:[0,1],utils_rdb:0,utils_secret:0,vagrant:12,valid:[1,2],valu:[2,8],verbos:6,voyageur:1,want:[1,2,4,6,8],warn:6,websit:[1,2],weekdai:3,well:2,west:11,what:[4,12],when:[2,12],where:2,which:[1,2,4,12],without:[2,12],work:12,write:[2,7,8],write_loc:8,xml:[1,6,12],xml_string:1,xml_to_json_item_list:1,yield:8,you:[1,2,4,6,8],yyyymmdd:[2,3],yyyymmdd_dai:[3,9],yyyymmdd_format:2,zip:2,zone:8},titles:["api_etl package","api_etl.extract_api module","api_etl.extract_schedule module","api_etl.match_ids module","api_etl.query_schedule module","api_etl.settings module","api_etl.utils_api_client module","api_etl.utils_dynamo module","api_etl.utils_misc module","api_etl.utils_mongo module","api_etl.utils_rdb module","api_etl.utils_secrets module","Overview","api_etl"],titleterms:{api:12,api_etl:[0,1,2,3,4,5,6,7,8,9,10,11,13],content:0,departur:12,extract_api:1,extract_schedul:2,format:12,from:12,gtf:12,indic:12,match_id:3,modul:[0,1,2,3,4,5,6,7,8,9,10,11],overview:12,packag:0,perform:12,query_schedul:4,real:12,schedul:12,set:5,sncf:12,submodul:0,tabl:12,task:12,time:12,transilien:12,utils_api_cli:6,utils_dynamo:7,utils_misc:8,utils_mongo:9,utils_rdb:10,utils_secret:11,websit:12}})